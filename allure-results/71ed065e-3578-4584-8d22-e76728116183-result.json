{"name": "Тест на проверку того, что при создании нового заказа счётчик Выполнено за сегодня увеличивается", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n\tGetHandleVerifier [0x00007FF74C1ECF45+75717]\n\tGetHandleVerifier [0x00007FF74C1ECFA0+75808]\n\t(No symbol) [0x00007FF74BFB8F9A]\n\t(No symbol) [0x00007FF74C00F4C6]\n\t(No symbol) [0x00007FF74C00F77C]\n\t(No symbol) [0x00007FF74C062577]\n\t(No symbol) [0x00007FF74C0373BF]\n\t(No symbol) [0x00007FF74C05F39C]\n\t(No symbol) [0x00007FF74C037153]\n\t(No symbol) [0x00007FF74C000421]\n\t(No symbol) [0x00007FF74C0011B3]\n\tGetHandleVerifier [0x00007FF74C4ED71D+3223453]\n\tGetHandleVerifier [0x00007FF74C4E7CC2+3200322]\n\tGetHandleVerifier [0x00007FF74C505AF3+3322739]\n\tGetHandleVerifier [0x00007FF74C206A1A+180890]\n\tGetHandleVerifier [0x00007FF74C20E11F+211359]\n\tGetHandleVerifier [0x00007FF74C1F5294+109332]\n\tGetHandleVerifier [0x00007FF74C1F5442+109762]\n\tGetHandleVerifier [0x00007FF74C1DBA59+4825]\n\tBaseThreadInitThunk [0x00007FF81D517374+20]\n\tRtlUserThreadStart [0x00007FF81D73CC91+33]", "trace": "self = <tests.test_orders_line.TestOrdersLine object at 0x0000019870A5D4D0>, login = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d798a220da85c648ead6127c82d98662\")>\n\n    @allure.title(\"Тест на проверку того, что при создании нового заказа счётчик Выполнено за сегодня увеличивается\")\n    def test_today_counter(self, login):\n        # Arrange\n        main_page = MainPage(login)\n        main_page.wait_for_element_hide(MainFunctionsLocators.OVERLAY)\n        main_page.click_on_orders_line_button()\n        orders_line_page = OrdersLinePage(login)\n        before = orders_line_page.get_count(OrdersLineLocators.TODAY_COUNTER)\n        # Act\n        main_page.click_on_constructor_button()\n        constructor_page = ConstructorPage(login)\n        constructor_page.drag_ingredient_to_order()\n        constructor_page.click_on_order_button()\n        constructor_page.wait_for_element_hide(MainFunctionsLocators.OVERLAY)\n        constructor_page.click_on_order_popup_cross()\n        main_page.click_on_orders_line_button()\n        orders_line_page = OrdersLinePage(login)\n>       orders_line_page.check_today_order_counter(before)\n\ntests\\test_orders_line.py:89: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\orders_line_page.py:29: in check_today_order_counter\n    return self.wait_for_attribute(OrdersLineLocators.TODAY_COUNTER, \"textContent\", expected, timeout)\npages\\base_page.py:39: in wait_for_attribute\n    return WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"d798a220da85c648ead6127c82d98662\")>\nmethod = <function text_to_be_present_in_element_attribute.<locals>._predicate at 0x0000019870A7DB20>, message = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Wait until the method returns a value that is not False.\n    \n        Calls the method provided with the driver as an argument until the\n        return value does not evaluate to ``False``.\n    \n        Parameters:\n        -----------\n        method: callable(WebDriver)\n            - A callable object that takes a WebDriver instance as an argument.\n    \n        message: str\n            - Optional message for :exc:`TimeoutException`\n    \n        Return:\n        -------\n        object: T\n            - The result of the last call to `method`\n    \n        Raises:\n        -------\n        TimeoutException\n            - If 'method' does not return a truthy value within the WebDriverWait\n            object's timeout\n    \n        Example:\n        --------\n        >>> from selenium.webdriver.common.by import By\n        >>> from selenium.webdriver.support.ui import WebDriverWait\n        >>> from selenium.webdriver.support import expected_conditions as EC\n    \n        # Wait until an element is visible on the page\n        >>> wait = WebDriverWait(driver, 10)\n        >>> element = wait.until(EC.visibility_of_element_located((By.ID, \"exampleId\")))\n        >>> print(element.text)\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            if time.monotonic() > end_time:\n                break\n            time.sleep(self._poll)\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       \tGetHandleVerifier [0x00007FF74C1ECF45+75717]\nE       \tGetHandleVerifier [0x00007FF74C1ECFA0+75808]\nE       \t(No symbol) [0x00007FF74BFB8F9A]\nE       \t(No symbol) [0x00007FF74C00F4C6]\nE       \t(No symbol) [0x00007FF74C00F77C]\nE       \t(No symbol) [0x00007FF74C062577]\nE       \t(No symbol) [0x00007FF74C0373BF]\nE       \t(No symbol) [0x00007FF74C05F39C]\nE       \t(No symbol) [0x00007FF74C037153]\nE       \t(No symbol) [0x00007FF74C000421]\nE       \t(No symbol) [0x00007FF74C0011B3]\nE       \tGetHandleVerifier [0x00007FF74C4ED71D+3223453]\nE       \tGetHandleVerifier [0x00007FF74C4E7CC2+3200322]\nE       \tGetHandleVerifier [0x00007FF74C505AF3+3322739]\nE       \tGetHandleVerifier [0x00007FF74C206A1A+180890]\nE       \tGetHandleVerifier [0x00007FF74C20E11F+211359]\nE       \tGetHandleVerifier [0x00007FF74C1F5294+109332]\nE       \tGetHandleVerifier [0x00007FF74C1F5442+109762]\nE       \tGetHandleVerifier [0x00007FF74C1DBA59+4825]\nE       \tBaseThreadInitThunk [0x00007FF81D517374+20]\nE       \tRtlUserThreadStart [0x00007FF81D73CC91+33]\n\nenv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:146: TimeoutException"}, "steps": [{"name": "Подождать пока элемент станет невидимым", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \".//div[contains(@class, 'Modal_modal_overlay__x2ZCr')]/parent::div\"]"}, {"name": "timeout", "value": "100"}], "start": 1748192563701, "stop": 1748192564236}, {"name": "Кликнуть на кнопку 'Лента заказов'", "status": "passed", "steps": [{"name": "Кликнуть на элемент", "status": "passed", "steps": [{"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Лента Заказов']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192564236, "stop": 1748192564253}], "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Лента Заказов']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192564236, "stop": 1748192564303}], "start": 1748192564236, "stop": 1748192564303}, {"name": "Получить текущее значение cчетчика", "status": "passed", "steps": [{"name": "Получить текст элемента", "status": "passed", "steps": [{"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Выполнено за сегодня:']/following-sibling::p\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192564305, "stop": 1748192565330}], "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Выполнено за сегодня:']/following-sibling::p\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192564305, "stop": 1748192565345}], "parameters": [{"name": "counter_locator", "value": "['xpath', \"//p[text()='Выполнено за сегодня:']/following-sibling::p\"]"}], "start": 1748192564304, "stop": 1748192565345}, {"name": "Кликнуть на кнопку 'Конструктор'", "status": "passed", "steps": [{"name": "Кликнуть на элемент", "status": "passed", "steps": [{"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Конструктор']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192565345, "stop": 1748192565361}], "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Конструктор']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192565345, "stop": 1748192565420}], "start": 1748192565345, "stop": 1748192565420}, {"name": "Перетащить ингредиент в заказ", "status": "passed", "steps": [{"name": "Перетащить элемент в корзину", "status": "passed", "parameters": [{"name": "source", "value": "['xpath', \"//img[@alt='Краторная булка N-200i']\"]"}, {"name": "target", "value": "['xpath', \"//span[contains(text(),'(верх)')]\"]"}], "start": 1748192565420, "stop": 1748192565468}], "start": 1748192565420, "stop": 1748192565468}, {"name": "Кликнуть на кнопку 'Оформить заказ'", "status": "passed", "steps": [{"name": "Кликнуть на элемент", "status": "passed", "steps": [{"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \"//button[text()='Оформить заказ']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192565468, "stop": 1748192565484}], "parameters": [{"name": "locator", "value": "['xpath', \"//button[text()='Оформить заказ']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192565468, "stop": 1748192565536}], "start": 1748192565468, "stop": 1748192565536}, {"name": "Подождать пока элемент станет невидимым", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \".//div[contains(@class, 'Modal_modal_overlay__x2ZCr')]/parent::div\"]"}, {"name": "timeout", "value": "100"}], "start": 1748192565536, "stop": 1748192565553}, {"name": "Кликнуть на крестик на всплывающем окне подтверждения заказа", "status": "passed", "steps": [{"name": "Подождать пока элемент станет невидимым", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \".//div[contains(@class, 'Modal_modal_overlay__x2ZCr')]/parent::div\"]"}, {"name": "timeout", "value": "100"}], "start": 1748192565553, "stop": 1748192569170}, {"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['css selector', 'path[fill-rule=\"evenodd\"][clip-rule=\"evenodd\"][d^=\"M3.29289 3.29289\"]']"}, {"name": "timeout", "value": "10"}], "start": 1748192569170, "stop": 1748192569181}], "start": 1748192565553, "stop": 1748192569237}, {"name": "Кликнуть на кнопку 'Лента заказов'", "status": "passed", "steps": [{"name": "Кликнуть на элемент", "status": "passed", "steps": [{"name": "Подождать видимости элемента", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Лента Заказов']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192569237, "stop": 1748192569249}], "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Лента Заказов']\"]"}, {"name": "timeout", "value": "10"}], "start": 1748192569237, "stop": 1748192569507}], "start": 1748192569237, "stop": 1748192569507}, {"name": "Дождаться обновления счётчика «Выполнено за сегодня»", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n\tGetHandleVerifier [0x00007FF74C1ECF45+75717]\n\tGetHandleVerifier [0x00007FF74C1ECFA0+75808]\n\t(No symbol) [0x00007FF74BFB8F9A]\n\t(No symbol) [0x00007FF74C00F4C6]\n\t(No symbol) [0x00007FF74C00F77C]\n\t(No symbol) [0x00007FF74C062577]\n\t(No symbol) [0x00007FF74C0373BF]\n\t(No symbol) [0x00007FF74C05F39C]\n\t(No symbol) [0x00007FF74C037153]\n\t(No symbol) [0x00007FF74C000421]\n\t(No symbol) [0x00007FF74C0011B3]\n\tGetHandleVerifier [0x00007FF74C4ED71D+3223453]\n\tGetHandleVerifier [0x00007FF74C4E7CC2+3200322]\n\tGetHandleVerifier [0x00007FF74C505AF3+3322739]\n\tGetHandleVerifier [0x00007FF74C206A1A+180890]\n\tGetHandleVerifier [0x00007FF74C20E11F+211359]\n\tGetHandleVerifier [0x00007FF74C1F5294+109332]\n\tGetHandleVerifier [0x00007FF74C1F5442+109762]\n\tGetHandleVerifier [0x00007FF74C1DBA59+4825]\n\tBaseThreadInitThunk [0x00007FF81D517374+20]\n\tRtlUserThreadStart [0x00007FF81D73CC91+33]\n\n", "trace": "  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\env\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\pages\\orders_line_page.py\", line 29, in check_today_order_counter\n    return self.wait_for_attribute(OrdersLineLocators.TODAY_COUNTER, \"textContent\", expected, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\env\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\pages\\base_page.py\", line 39, in wait_for_attribute\n    return WebDriverWait(self.driver, timeout).until(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\env\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 146, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "steps": [{"name": "Подождать пока элемент станет невидимым", "status": "passed", "parameters": [{"name": "locator", "value": "['xpath', \".//div[contains(@class, 'Modal_modal_overlay__x2ZCr')]/parent::div\"]"}, {"name": "timeout", "value": "100"}], "start": 1748192569507, "stop": 1748192569528}, {"name": "Подождать и проверить, что атрибут элемента содержит текст", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n\tGetHandleVerifier [0x00007FF74C1ECF45+75717]\n\tGetHandleVerifier [0x00007FF74C1ECFA0+75808]\n\t(No symbol) [0x00007FF74BFB8F9A]\n\t(No symbol) [0x00007FF74C00F4C6]\n\t(No symbol) [0x00007FF74C00F77C]\n\t(No symbol) [0x00007FF74C062577]\n\t(No symbol) [0x00007FF74C0373BF]\n\t(No symbol) [0x00007FF74C05F39C]\n\t(No symbol) [0x00007FF74C037153]\n\t(No symbol) [0x00007FF74C000421]\n\t(No symbol) [0x00007FF74C0011B3]\n\tGetHandleVerifier [0x00007FF74C4ED71D+3223453]\n\tGetHandleVerifier [0x00007FF74C4E7CC2+3200322]\n\tGetHandleVerifier [0x00007FF74C505AF3+3322739]\n\tGetHandleVerifier [0x00007FF74C206A1A+180890]\n\tGetHandleVerifier [0x00007FF74C20E11F+211359]\n\tGetHandleVerifier [0x00007FF74C1F5294+109332]\n\tGetHandleVerifier [0x00007FF74C1F5442+109762]\n\tGetHandleVerifier [0x00007FF74C1DBA59+4825]\n\tBaseThreadInitThunk [0x00007FF81D517374+20]\n\tRtlUserThreadStart [0x00007FF81D73CC91+33]\n\n", "trace": "  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\env\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\pages\\base_page.py\", line 39, in wait_for_attribute\n    return WebDriverWait(self.driver, timeout).until(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Diplom\\Diplom_3\\env\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 146, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "parameters": [{"name": "locator", "value": "['xpath', \"//p[text()='Выполнено за сегодня:']/following-sibling::p\"]"}, {"name": "attribute", "value": "'textContent'"}, {"name": "value", "value": "'1079'"}, {"name": "timeout", "value": "10"}], "start": 1748192569528, "stop": 1748192579768}], "parameters": [{"name": "before", "value": "1078"}, {"name": "increment", "value": "1"}, {"name": "timeout", "value": "10"}], "start": 1748192569507, "stop": 1748192579799}], "parameters": [{"name": "driver", "value": "'chrome'"}], "start": 1748192563700, "stop": 1748192579799, "uuid": "bf4ee2a8-c4b2-4c68-bf39-719ad09a7e60", "historyId": "33bc924bf3681ab12b4ba1e33e945825", "testCaseId": "c2d146408c8f305234f00009675d447a", "fullName": "tests.test_orders_line.TestOrdersLine#test_today_counter", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_orders_line"}, {"name": "subSuite", "value": "TestOrdersLine"}, {"name": "host", "value": "DESKTOP-0807K0Q"}, {"name": "thread", "value": "7116-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_orders_line"}]}